<section id="main">
    <%= render partial: 'admin/feature_layouts/sidebar' %>
    <%= render partial: 'admin/feature_layouts/chat' %>
    
    <section id="content">
        <div class="container">
            <div class="block-header">
                <h2>Data Table</h2>
                
                <ul class="actions">
                    <li>
                        <a href="">
                            <i class="zmdi zmdi-trending-up"></i>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <i class="zmdi zmdi-check-all"></i>
                        </a>
                    </li>
                    <li class="dropdown">
                        <a href="" data-toggle="dropdown">
                            <i class="zmdi zmdi-more-vert"></i>
                        </a>
                        
                        <ul class="dropdown-menu dropdown-menu-right">
                            <li>
                                <a href="">Refresh</a>
                            </li>
                            <li>
                                <a href="">Manage Widgets</a>
                            </li>
                            <li>
                                <a href="">Widgets Settings</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            
            
            
            
            <!--크롤러 입-출력 Table-->
            <div class="card">
                <div class="card-header">
                    <h2>Selection Example <small>Ensure that the data attribute [data-identifier="true"] is set on one column header.</small></h2>
                </div>
                
                <table id="data-table-basic" class="table table-striped table-vmiddle">
                    <thead>
                        <tr>
                            <th data-column-id="song_rank" data-type="numeric" data-order="asc">곡번호</th>
                            <th data-column-id="song_num">곡 제목</th>
                            <th data-column-id="song_title" data-order="desc">아티스트</th>
                            <th data-column-id="song_singer" data-order="desc">앨범제목</th>
                            <th data-column-id="commands" data-formatter="commands" data-sortable="false">Commands</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% Song.all.each do |song| %>
                        <tr>
                            <td><%= song.song_num %></td>
                            <td><%= song.title %></td>
                            <% a = Album.find(song.album_id) %>
                            <td><%= a.artist_name %></td>
                            <td><%= a.title %></td>
                        </tr>
                        <% end %>
                    </tbody>
                </table>
            </div>
            
            
            
            
            
            <!--<div class="card">-->
            <!--    <div class="card-header">-->
            <!--        <h2>Selection Example <small>Ensure that the data attribute [data-identifier="true"] is set on one column header.</small></h2>-->
            <!--    </div>-->
                
            <!--    <div class="table-responsive">-->
            <!--        <table id="data-table-selection" class="table table-striped">-->
            <!--            <thead>-->
            <!--                <tr>-->
            <!--                    <th data-column-id="id" data-type="numeric" data-identifier="true">ID</th>-->
            <!--                    <th data-column-id="sender">Sender</th>-->
            <!--                    <th data-column-id="received" data-order="desc">Received</th>-->
            <!--                </tr>-->
            <!--            </thead>-->
            <!--            <tbody>-->
            <!--                <tr>-->
            <!--                    <td>10238</td>-->
            <!--                    <td>eduardo@pingpong.com</td>-->
            <!--                    <td>14.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10243</td>-->
            <!--                    <td>eduardo@pingpong.com</td>-->
            <!--                    <td>19.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10248</td>-->
            <!--                    <td>eduardo@pingpong.com</td>-->
            <!--                    <td>24.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10253</td>-->
            <!--                    <td>eduardo@pingpong.com</td>-->
            <!--                    <td>29.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10234</td>-->
            <!--                    <td>lila@google.com</td>-->
            <!--                    <td>10.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10239</td>-->
            <!--                    <td>lila@google.com</td>-->
            <!--                    <td>15.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10244</td>-->
            <!--                    <td>lila@google.com</td>-->
            <!--                    <td>20.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10249</td>-->
            <!--                    <td>lila@google.com</td>-->
            <!--                    <td>25.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10237</td>-->
            <!--                    <td>robert@bingo.com</td>-->
            <!--                    <td>13.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10242</td>-->
            <!--                    <td>robert@bingo.com</td>-->
            <!--                    <td>18.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10247</td>-->
            <!--                    <td>robert@bingo.com</td>-->
            <!--                    <td>23.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10252</td>-->
            <!--                    <td>robert@bingo.com</td>-->
            <!--                    <td>28.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10236</td>-->
            <!--                    <td>simon@yahoo.com</td>-->
            <!--                    <td>12.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10241</td>-->
            <!--                    <td>simon@yahoo.com</td>-->
            <!--                    <td>17.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10246</td>-->
            <!--                    <td>simon@yahoo.com</td>-->
            <!--                    <td>22.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10251</td>-->
            <!--                    <td>simon@yahoo.com</td>-->
            <!--                    <td>27.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10235</td>-->
            <!--                    <td>tim@microsoft.com</td>-->
            <!--                    <td>11.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10240</td>-->
            <!--                    <td>tim@microsoft.com</td>-->
            <!--                    <td>16.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10245</td>-->
            <!--                    <td>tim@microsoft.com</td>-->
            <!--                    <td>21.10.2013</td>-->
            <!--                </tr>-->
            <!--                <tr>-->
            <!--                    <td>10250</td>-->
            <!--                    <td>tim@microsoft.com</td>-->
            <!--                    <td>26.10.2013</td>-->
            <!--                </tr>-->
            <!--            </tbody>-->
            <!--        </table>-->
            <!--    </div>-->
            <!--</div>-->
        </div>
    </section>
</section>

<!-- Javascript Libraries -->
<script src="/vendors/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<script src="/vendors/bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="/vendors/bower_components/Waves/dist/waves.min.js"></script>
<script src="/vendors/bootstrap-growl/bootstrap-growl.min.js"></script>
<script src="/vendors/bower_components/bootstrap-sweetalert/lib/sweet-alert.min.js"></script>  
<script src="/vendors/bootgrid/jquery.bootgrid.updated.min.js"></script>

<!-- Placeholder for IE9 -->
<!--[if IE 9 ]>
    <script src="../vendors/bower_components/jquery-placeholder/jquery.placeholder.min.js"></script>
<![endif]-->

<script src="/js/functions.js"></script>
<script src="/js/demo.js"></script>

<!-- Data Table -->
<script type="text/javascript">
    $(document).ready(function(){
        //Basic Example
        $("#data-table-basic").bootgrid({
            css: {
                icon: 'zmdi icon',
                iconColumns: 'zmdi-view-module',
                iconDown: 'zmdi-expand-more',
                iconRefresh: 'zmdi-refresh',
                iconUp: 'zmdi-expand-less'
            },
        });
        
        //Selection
        $("#data-table-selection").bootgrid({
            css: {
                icon: 'zmdi icon',
                iconColumns: 'zmdi-view-module',
                iconDown: 'zmdi-expand-more',
                iconRefresh: 'zmdi-refresh',
                iconUp: 'zmdi-expand-less'
            },
            selection: true,
            multiSelect: true,
            rowSelect: true,
            keepSelection: true
        });
        
        //Command Buttons
        var data_grid = $("#data-table-command").bootgrid({
            css: {
                icon: 'zmdi icon',
                iconColumns: 'zmdi-view-module',
                iconDown: 'zmdi-expand-more',
                iconRefresh: 'zmdi-refresh',
                iconUp: 'zmdi-expand-less'
            },
            formatters: {
                "commands": function(column, row) {
                    return "<a href=\"/admin/songs_info?mod=" + row.id + "\" class=\"btn btn-icon command-edit waves-effect waves-circle\" data-row-id=\"" + row.id + "\"><span class=\"zmdi zmdi-edit\"></span></a> " + 
                        "<a href=\"/song/song_delete/" + row.id + "\" class=\"btn btn-icon command-delete waves-effect waves-circle\" data-row-id=\"" + row.id + "\"><span class=\"zmdi zmdi-delete\"></span></a>";
                }
            }
        }).on("loaded.rs.jquery.bootgrid", function(){
            /* Executes after data is loaded and rendered */
            data_grid.find(".command-edit").on("click", function(e){
                alert("수정하실 노래는 " + $(this).data("row-id") + "번 곡 입니다.");
            }).end().find(".command-delete").on("click", function(e){
                alert($(this).data("row-id") + " 번 곡을 정말 삭제하시겠습니까?");
            });
        });
    });
</script>
<script> // #grid-command-buttons
    var grid = $("#grid-command-buttons").bootgrid({
        ajax: true,
        post: function (){
            return {
                id: "b0df282a-0d67-40e5-8558-c9e93b7befed"
            };
        },
        url: "/api/data/basic",
        formatters: {
            "commands": function(column, row){
                return "<button type=\"button\" class=\"btn btn-icon command-edit waves-effect waves-circle\" data-row-id=\"" + row.id + "\"><span class=\"zmdi zmdi-edit\"></span></button> " + 
                    "<button type=\"button\" class=\"btn btn-xs btn-default command-delete\" data-row-id=\"" + row.id + "\"><span class=\"fa fa-trash-o\"></span></button>";
            }
        }
    }).on("loaded.rs.jquery.bootgrid", function(){
        /* Executes after data is loaded and rendered */
        grid.find(".command-edit").on("click", function(e){
            alert("You pressed edit on row: " + $(this).data("row-id"));
        }).end().find(".command-delete").on("click", function(e){
            alert("You pressed delete on row: " + $(this).data("row-id"));
        });
    });
    
</script>