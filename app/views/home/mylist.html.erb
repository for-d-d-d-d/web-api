<%= render partial: "home/home_layouts/navbar" %>

<% if params[:id].nil? %>
<% ml = current_user.mylists.where(title: "Default").first %>
<% else %>
<% ml = Mylist.find(params[:id]) %>
<% end %>

<style media="screen">
.mylist_container{
    border-radius: 10px;
    width:50%;
    border-style: solid;
    border-width: 1px!important;
    border-color: black!important;
    padding : 30px 20px 40px 20px;
}

.mylist_contents{
    float:left;
    text-align: left;
    padding: 10px 0px 10px 0px;
}

.mylist_contents_container{
    margin-bottom:0px;
}

.list_devider{
    width:100%;
    margin-bottom: 0px;
}
</style>

<!-- 헤더 공간 차지용  -->
<div style="height:60px; margin-bottom:50px;"></div>
<!-- 헤더 공간 차지용  -->


<% i = 1 %>
<div class="col-md-3">
    <% current_user.mylists.each do |m| %>
    <a href="/home/mylist/<%= m.id %>"><h1> <%= i %> <%= m.title %> </h1></a> <br>
    <a href="/mylist/delete_list?id=<%= m.id %>"> 삭제 </a>
    <% i += 1 %>
    <% end %>
</div>


<div class="mylist_container col-md-6">
    <div class="mylist_contents_container" style="text-align:center; margin-bottom:70px;">
        <img src="/images/icon/profile_photo.png" width="60" height="60" style="background-color:black;"/>
        <% if user_signed_in? %>
        <div><h4><%= current_user.name %><span style="color:red;">&nbsp;&nbsp;님의 마이리스트 : <%= ml.title %></span></h4></div>
        <% else %>
        <div><h4><%= "로그인하셈!" %><span style="color:red;">&nbsp;&nbsp;님의 마이리스트</span></h4></div>
        <% end %>
    </div>

    <div class="mylilst_contents_container">
        <div class="col-md-1 mylist_contents"> No </div>
        <div class="col-md-2 mylist_contents"> 노래방 번호 </div>
        <div class="col-md-5 mylist_contents"> 제목 </div>
        <div class="col-md-2 mylist_contents"> 가수 </div>
        <div class="col-md-2 mylist_contents"> 고래 카운트 </div>

    </div>
    <hr class="list_devider">

    <% i = 1 %>
    <%# current_user.mylists.each do |ml| %>
    <!-- <div class="mylilst_contents_container">
    <div class="col-md-3 mylist_contents"> Mylist : </div>
    <div class="col-md-9 mylist_contents"> <%= ml.title %> </div>
</div> -->

<% ml.songs.each do |s| %>
<% ss = s.song %>
<div class="mylilst_contents_container">
    <div class="col-md-1 mylist_contents"> <%= i %> </div>
    <div class="col-md-2 mylist_contents"> <%= ss.song_tjnum %> </div>
    <div class="col-md-5 mylist_contents"> <%= ss.title %> </div>
    <div class="col-md-2 mylist_contents"> <%= ss.artist.name %> </div>
    <div class="col-md-2 mylist_contents">
        <div class="col-md-6">
            <%= (1000..9999).to_a.sample %>
        </div>
        <div class="col-md-6">
            <a href="/mylist/delete?id=<%= s.id %>"> 삭제 </a>
        </div>
    </div>

</div>
<hr class="list_devider">
<% i += 1 %>
<% end %>
<%# end %>

</div>
<div class="col-md-3"></div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<!-- Just to make our placeholder images work. Don't actually copy the next line! -->
<script src="http://bootstrapk.com/assets/js/vendor/holder.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="http://bootstrapk.com/assets/js/ie10-viewport-bug-workaround.js"></script>

<!-- Plugin JavaScript -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script src="http://blackrockdigital.github.io/startbootstrap-freelancer/js/classie.js"></script>
<script src="http://blackrockdigital.github.io/startbootstrap-freelancer/js/cbpAnimatedHeader.js"></script>

<!-- Contact Form JavaScript -->
<script src="http://blackrockdigital.github.io/startbootstrap-freelancer/js/jqBootstrapValidation.js"></script>
<script src="http://blackrockdigital.github.io/startbootstrap-freelancer/js/contact_me.js"></script>

<!-- Custom Theme JavaScript -->
<script src="http://blackrockdigital.github.io/startbootstrap-freelancer/js/freelancer.js"></script>
